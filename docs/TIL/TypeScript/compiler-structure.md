---
slug: compiler-structure
title: 타입스크릷트 컴파일러의 구조
tags: [compiler]
---

## 1. 프로그램

- 컴파일 과정을 관리하는 프로그램 객체(인스턴스) 생성
  - 이 프로그램 객체는 컴파일할 타입스크립트 소스 파일과 소스 파일 내에서 임포트된 파일을 불러옴

## 2. 스캐너

- 타입스크립트 소스 파일을 어휘적으로 분석하여 토큰을 생성하는 역할

## 3. 파서

- 스캐너가 소스 파일을 토큰으로 나눠주면 파서는 그 토큰 정보를 이용하여 AST 생성
  - AST의 최상위 노드는 타입스크립트 소스 파일이며, 최하위 노드는 파일의 끝 지점으로 구성됨
  - 파서는 구문적 분석을 수행하여 실질적인 구조를 노드 단위의 트리 형태로 표현
    - 각각의 노드는 코드상의 위치, 구문 종류, 코드 내용과 같은 정보를 담음

## 4. 바인더

- 체커 단계에서 타입 검사를 할 수 있도록 기반 마련
  - 타입 검사를 위해 심볼이라는 데이터 구조 생성
  - 심볼: 이전 단계의 AST에서 선언된 타입의 노드 정보 저장
- 바인더는 심볼을 생성하고 해당 심볼과 그에 대응하는 AST 노드를 연결하는 역할 수행

## 5. 체커와 이미터

- 체커: 파서가 생성한 AST와 바인더가 생성한 심볼을 활용하여 타입 검사 수행
  - AST의 노드를 탐색하면서 심볼 정보를 불러와 주어진 소스 파일에 대해 타입 검사 진행
- 이미터: 타입스크립트 소스를 자바스크립트 파일과 타입 선언 파일로 생성
  - 개발자가 설정한 타입스크립트 설정 파일을 읽어옴
  - 체커를 통해 코드에 대한 타입 검증 정보를 가져옴
  - emitter.ts 소스 파일 내부의 emitFiles() 함수를 사용하여 타입스크립트 소스 변환 진행
